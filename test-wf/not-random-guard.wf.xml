<?xml version="1.0"?>
<!DOCTYPE workflow SYSTEM "wf.dtd">

<workflow id="not-random-guard" version="1">
  <start>
    <arc to="first-node"/>
  </start>

  <init name="first-node">
    <arc to="dump1"/>
    <arc to="dump2"/>
  </init>

  <dump name="dump1">
    <guard>IF isRandOdd THEN Accept ELSE Discard</guard>
    <arc to="join"/>
  </dump>

  <dump name="dump2">
    <guard>IF NOT isRandOdd THEN Accept ELSE Discard</guard>
    <arc to="join"/>
  </dump>

  <node name="join" isJoin="false">
    <arc to="dump3"/>
    <arc to="dump4"/>
  </node>

  <dump name="dump3">
    <guard>IF isRandOdd THEN Accept ELSE Skip</guard>
    <arc to="leave-decision"/>
  </dump>

  <dump name="dump4">
    <guard>IF NOT isRandOdd THEN Accept ELSE Skip</guard>
    <arc to="leave-decision"/>
  </dump>

  <node name="leave-decision" isJoin="true">
    <guard>IF isTenthIteration THEN Skip exit ELSE Skip beginning</guard>

    <arc to="last-node" name="exit"/>
    <arc to="first-node" name="beginning"/>

  </node>

  <node name="last-node"/>
</workflow>
